{"ast":null,"code":"import React from'react';import{sendMessageC}from'../../redux/dialogs-reduser';import{DialogItem}from'./DialogItem/DialogItem';import s from'./Dialogs.module.css';import{Message}from'./Message/Message';import{connect}from'react-redux';import{compose}from'redux';import{wihtAuthRedirect}from'../../hoc/wihtAuthRedirect';import{AddMessageFormRedux}from'./AddMessageForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dialogs=function Dialogs(props){var dialogsElement=props.dialogsPage.dialogs.map(function(d){return/*#__PURE__*/_jsx(DialogItem,{name:d.name,id:d.id},d.id);});var messagesElement=props.dialogsPage.messages.map(function(m){return/*#__PURE__*/_jsx(Message,{message:m.message},m.id);});var newMessageBody=props.dialogsPage.newMessageBody;var addNewMessage=function addNewMessage(values){props.sendMessage(values.newMessageBody);};return/*#__PURE__*/_jsxs(\"div\",{className:s.dialogs,children:[/*#__PURE__*/_jsx(\"div\",{className:s.dialogsItem,children:dialogsElement}),/*#__PURE__*/_jsxs(\"div\",{className:s.messages,children:[/*#__PURE__*/_jsx(\"div\",{children:messagesElement}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AddMessageFormRedux,{onSubmit:addNewMessage})})]})]});};var mapStateToProps=function mapStateToProps(state){return{dialogsPage:state.dialogsPage};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{sendMessage:function sendMessage(newMessageBody){dispatch(sendMessageC(newMessageBody));}};};export default compose(connect(mapStateToProps,mapDispatchToProps),wihtAuthRedirect)(Dialogs);","map":{"version":3,"sources":["D:/My-proect/social-network/src/—Åomponents/Dialogs/Dialogs.tsx"],"names":["React","sendMessageC","DialogItem","s","Message","connect","compose","wihtAuthRedirect","AddMessageFormRedux","Dialogs","props","dialogsElement","dialogsPage","dialogs","map","d","name","id","messagesElement","messages","m","message","newMessageBody","addNewMessage","values","sendMessage","dialogsItem","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkD,OAAlD,CACA,OAAoCC,YAApC,KAAwD,6BAAxD,CACA,OAASC,UAAT,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,CAAP,KAAc,sBAAd,CACA,OAASC,OAAT,KAAwB,mBAAxB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAmBC,OAAnB,KAAkC,OAAlC,CAEA,OAASC,gBAAT,KAAiC,4BAAjC,CAEA,OAASC,mBAAT,KAAoC,kBAApC,C,wFAoBA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAA6B,CAEzC,GAAMC,CAAAA,cAAc,CAAGD,KAAK,CAACE,WAAN,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,SAAAC,CAAC,qBAAI,KAAC,UAAD,EAAY,IAAI,CAAEA,CAAC,CAACC,IAApB,CAA0B,EAAE,CAAED,CAAC,CAACE,EAAhC,EAAyCF,CAAC,CAACE,EAA3C,CAAJ,EAA/B,CAAvB,CACA,GAAMC,CAAAA,eAAe,CAAGR,KAAK,CAACE,WAAN,CAAkBO,QAAlB,CAA2BL,GAA3B,CAA+B,SAAAM,CAAC,qBAAI,KAAC,OAAD,EAAS,OAAO,CAAEA,CAAC,CAACC,OAApB,EAAkCD,CAAC,CAACH,EAApC,CAAJ,EAAhC,CAAxB,CACA,GAAMK,CAAAA,cAAc,CAAGZ,KAAK,CAACE,WAAN,CAAkBU,cAAzC,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,MAAD,CAAiB,CACnCd,KAAK,CAACe,WAAN,CAAkBD,MAAM,CAACF,cAAzB,EACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAEnB,CAAC,CAACU,OAAlB,wBACI,YAAK,SAAS,CAAEV,CAAC,CAACuB,WAAlB,UACKf,cADL,EADJ,cAII,aAAK,SAAS,CAAER,CAAC,CAACgB,QAAlB,wBACI,qBAAMD,eAAN,EADJ,cAEI,kCACI,KAAC,mBAAD,EAAqB,QAAQ,CAAEK,aAA/B,EADJ,EAFJ,GAJJ,GADJ,CAeH,CA1BD,CA6BA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAyB,CAC7C,MAAO,CACHhB,WAAW,CAAEgB,KAAK,CAAChB,WADhB,CAAP,CAGH,CAJD,CAMA,GAAMiB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAA8C,CACrE,MAAO,CACHL,WAAW,CAAE,qBAACH,cAAD,CAA4B,CACrCQ,QAAQ,CAAC7B,YAAY,CAACqB,cAAD,CAAb,CAAR,CACH,CAHE,CAAP,CAKH,CAND,CAQA,cAAehB,CAAAA,OAAO,CAClBD,OAAO,CAACsB,eAAD,CAAkBE,kBAAlB,CADW,CAElBtB,gBAFkB,CAAP,CAGbE,OAHa,CAAf","sourcesContent":["import React, { ChangeEvent, KeyboardEvent } from 'react';\r\nimport { DialogsType, MessagesType, sendMessageC } from '../../redux/dialogs-reduser';\r\nimport { DialogItem } from './DialogItem/DialogItem';\r\nimport s from './Dialogs.module.css';\r\nimport { Message } from './Message/Message';\r\nimport { connect } from 'react-redux'\r\nimport { Dispatch, compose } from 'redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { wihtAuthRedirect } from '../../hoc/wihtAuthRedirect';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { AddMessageFormRedux } from './AddMessageForm';\r\n\r\nexport type DialogsPageType = {\r\n    messages: Array<MessagesType>\r\n    dialogs: Array<DialogsType>\r\n    newMessageBody: string\r\n\r\n};\r\n\r\ntype MapStatePropsType = {\r\n    dialogsPage: DialogsPageType\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    sendMessage: (newMessageBody: string) => void\r\n}\r\n\r\nexport type DialogsPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nconst Dialogs = (props: DialogsPropsType) => {\r\n\r\n    const dialogsElement = props.dialogsPage.dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id} />);\r\n    const messagesElement = props.dialogsPage.messages.map(m => <Message message={m.message} key={m.id} />);\r\n    const newMessageBody = props.dialogsPage.newMessageBody;\r\n\r\n\r\n    const addNewMessage = (values: any) => {\r\n        props.sendMessage(values.newMessageBody)\r\n    };\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItem}>\r\n                {dialogsElement}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElement}</div>\r\n                <div>\r\n                    <AddMessageFormRedux onSubmit={addNewMessage} />\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        sendMessage: (newMessageBody: string) => {\r\n            dispatch(sendMessageC(newMessageBody))\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    wihtAuthRedirect\r\n)(Dialogs)\r\n"]},"metadata":{},"sourceType":"module"}