{"ast":null,"code":"import _classCallCheck from\"D:/My-proect/social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/My-proect/social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/My-proect/social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/My-proect/social-network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{follow,setCarrentPageAC,toggelInProgress,unfollow,getUsersThunkCreator}from'../../redux/users-reducer';import{UsersFunc}from'./Users';import{Preloader}from'../common/preloader/Preloader';import{wihtAuthRedirect}from'../../hoc/wihtAuthRedirect';import{compose}from'redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersComponent=/*#__PURE__*/function(_React$Component){_inherits(UsersComponent,_React$Component);var _super=_createSuper(UsersComponent);function UsersComponent(){var _this;_classCallCheck(this,UsersComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onPageChanged=function(pageNumber){_this.props.getUsersThunkCreator(pageNumber,_this.props.pageSize);};return _this;}_createClass(UsersComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getUsersThunkCreator(this.props.carrentPage,this.props.pageSize);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.props.isFetching?/*#__PURE__*/_jsx(Preloader,{}):null,/*#__PURE__*/_jsx(UsersFunc,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,carrentPage:this.props.carrentPage,followingInProgress:this.props.followingInProgress})]});}}]);return UsersComponent;}(React.Component);;var mapStateToProps=function mapStateToProps(state){return{users:state.usersPage.users,pageSize:state.usersPage.pageSize,totalUsersCount:state.usersPage.totalUsersCount,carrentPage:state.usersPage.carrentPage,isFetching:state.usersPage.isFeching,followingInProgress:state.usersPage.followingInProgress};};export default compose(connect(mapStateToProps,{follow:follow,unfollow:unfollow,setCarrentPage:setCarrentPageAC,toggelInProgress:toggelInProgress,getUsersThunkCreator:getUsersThunkCreator}),wihtAuthRedirect)(UsersComponent);","map":{"version":3,"sources":["D:/My-proect/social-network/src/сomponents/Users/UsersContainer.tsx"],"names":["React","connect","follow","setCarrentPageAC","toggelInProgress","unfollow","getUsersThunkCreator","UsersFunc","Preloader","wihtAuthRedirect","compose","UsersComponent","onPageChanged","pageNumber","props","pageSize","carrentPage","isFetching","totalUsersCount","users","followingInProgress","Component","mapStateToProps","state","usersPage","isFeching","setCarrentPage"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,MAAT,CAAiBC,gBAAjB,CAAmCC,gBAAnC,CAAqDC,QAArD,CAA0EC,oBAA1E,KAAsG,2BAAtG,CACA,OAASC,SAAT,KAA0B,SAA1B,CACA,OAASC,SAAT,KAA0B,+BAA1B,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CACA,OAASC,OAAT,KAAwB,OAAxB,C,gJA4BMC,CAAAA,c,uWAKFC,a,CAAgB,SAACC,UAAD,CAAwB,CACpC,MAAKC,KAAL,CAAWR,oBAAX,CAAgCO,UAAhC,CAA4C,MAAKC,KAAL,CAAWC,QAAvD,EACH,C,2EAND,4BAAoB,CAChB,KAAKD,KAAL,CAAWR,oBAAX,CAAgC,KAAKQ,KAAL,CAAWE,WAA3C,CAAwD,KAAKF,KAAL,CAAWC,QAAnE,EACH,C,sBAKD,iBAAS,CACL,mBACI,2BACK,KAAKD,KAAL,CAAWG,UAAX,cAAwB,KAAC,SAAD,IAAxB,CAAwC,IAD7C,cAEI,KAAC,SAAD,EACI,eAAe,CAAE,KAAKH,KAAL,CAAWI,eADhC,CAEI,QAAQ,CAAE,KAAKJ,KAAL,CAAWC,QAFzB,CAGI,aAAa,CAAE,KAAKH,aAHxB,CAII,KAAK,CAAE,KAAKE,KAAL,CAAWK,KAJtB,CAKI,QAAQ,CAAE,KAAKL,KAAL,CAAWT,QALzB,CAMI,MAAM,CAAE,KAAKS,KAAL,CAAWZ,MANvB,CAOI,WAAW,CAAE,KAAKY,KAAL,CAAWE,WAP5B,CAQI,mBAAmB,CAAE,KAAKF,KAAL,CAAWM,mBARpC,EAFJ,GADJ,CAgBH,C,4BAzBwBpB,KAAK,CAACqB,S,EA0BlC,CAED,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAA4C,CAChE,MAAO,CACHJ,KAAK,CAAEI,KAAK,CAACC,SAAN,CAAgBL,KADpB,CAEHJ,QAAQ,CAAEQ,KAAK,CAACC,SAAN,CAAgBT,QAFvB,CAGHG,eAAe,CAAEK,KAAK,CAACC,SAAN,CAAgBN,eAH9B,CAIHF,WAAW,CAAEO,KAAK,CAACC,SAAN,CAAgBR,WAJ1B,CAKHC,UAAU,CAAEM,KAAK,CAACC,SAAN,CAAgBC,SALzB,CAMHL,mBAAmB,CAAEG,KAAK,CAACC,SAAN,CAAgBJ,mBANlC,CAAP,CAQH,CATD,CAUA,cAAeV,CAAAA,OAAO,CACjBT,OAAO,CAACqB,eAAD,CAAkB,CACtBpB,MAAM,CAANA,MADsB,CAEtBG,QAAQ,CAARA,QAFsB,CAGtBqB,cAAc,CAAEvB,gBAHM,CAItBC,gBAAgB,CAAhBA,gBAJsB,CAKtBE,oBAAoB,CAApBA,oBALsB,CAAlB,CADU,CASlBG,gBATkB,CAAP,CAUbE,cAVa,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { follow, setCarrentPageAC, toggelInProgress, unfollow, UsersType, getUsersThunkCreator } from '../../redux/users-reducer';\r\nimport { UsersFunc } from './Users';\r\nimport { Preloader } from '../common/preloader/Preloader';\r\nimport { wihtAuthRedirect } from '../../hoc/wihtAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nexport type UsersPageType = {\r\n    users: Array<UsersType>\r\n    follow: (usersID: number) => void\r\n    unfollow: (usersID: number) => void\r\n    setCarrentPage: (carrentPage: number) => void\r\n    toggelInProgress: (isFetching: boolean, userID: number) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    carrentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    \r\n};\r\ntype UsersPageMapType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    carrentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n};\r\n\r\ntype MapStatePropsType = UsersPageMapType\r\n\r\nclass UsersComponent extends React.Component<UsersPageType> {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.carrentPage, this.props.pageSize);\r\n    };\r\n    \r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsersThunkCreator(pageNumber, this.props.pageSize);\r\n    };\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <UsersFunc\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    carrentPage={this.props.carrentPage}\r\n                    followingInProgress={this.props.followingInProgress}\r\n\r\n                />\r\n            </>\r\n        )\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        carrentPage: state.usersPage.carrentPage,\r\n        isFetching: state.usersPage.isFeching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n};\r\nexport default compose<React.ComponentType>(\r\n    (connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCarrentPage: setCarrentPageAC,\r\n        toggelInProgress,\r\n        getUsersThunkCreator,\r\n    \r\n    })),\r\n    wihtAuthRedirect\r\n)(UsersComponent)\r\n"]},"metadata":{},"sourceType":"module"}